name: Build-and-Version
 
on:
  #workflow_dispatch:
   push:
     branches: [dev-feature]
 
jobs:
  docker_build_push_acr:
    name: 'Increment Build'
    runs-on: ubuntu-latest
    environment: dev
  
    # Use the Bash shell regardless whether the GitHub Actions runner is ubuntu-latest, macos-latest, or windows-latest
    defaults:
      run:
        shell: bash
  
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # required for github-action-get-previous-tag

      - name: Get Version 
        id: get_ver
        run: echo "ver=${cat ./version.txt}" >> $GITHUB_OUTPUT
        
      - name: Check output
        env:
          RELEASE_VERSION: ${{ steps.get_ver.outputs.ver }}
        run: |
          echo $RELEASE_VERSION
          echo ${{ steps.get_ver.outputs.ver }}



      
